<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="InventoryMaui.NewProducts"
             Title="NewProducts"
             xmlns:local="clr-namespace:InventoryMaui.Models">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <CollectionView x:Name="workersCollectionView"
                    Grid.Column="0"
                    Grid.Row="0"
                    ItemsSource="{Binding WorkerList}"
                    IsVisible="True"
                    Margin="0, 00, 10, 0"
                    SelectionMode="Single" 
                    SelectionChanged="OnClientsSelected">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="local:WorkersResponseDto">
                    <StackLayout Padding="10" BackgroundColor="#1E1E1E" Margin="15">
                        <Label Text="üë©üèø‚Äçüíº" FontSize="30"/>
                        <Label Text="{Binding Id, StringFormat='ID: {0}'}" FontAttributes="Bold"/>
                        <Label Text="{Binding FullName, StringFormat='üìù –§–ò–û: {0}'}" FontAttributes="Bold"/>
                        <Label Text="{Binding Post, StringFormat='‚ö° –î–æ–ª–∂–Ω–æ—Å—Ç—å: {0}'}" />
                        <BoxView HeightRequest="3" Color="#233554" Margin="0, 5"/>
                    </StackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        <ScrollView Grid.Column="1" Grid.Row="0" Margin="0,0,10,0">
            <CollectionView x:Name="workersWithView">

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="local:WorkersResponseDto">
                        <StackLayout Padding="5"  BackgroundColor="#1E1E1E">
                            <Label Text="{Binding Id, StringFormat='ID: {0}'}" FontAttributes="Bold"/>
                            <Label Text="{Binding FullName, StringFormat='üìù –§–ò–û: {0}'}" FontAttributes="Bold"/>
                            <Label Text="{Binding Post, StringFormat='‚ö° –î–æ–ª–∂–Ω–æ—Å—Ç—å: {0}'}" />
                            <Label Text="üßæ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏" FontSize="Small" Margin="0, 5, 0, 2"/>
                            <VerticalStackLayout Padding="20" Spacing="1" BindableLayout.ItemsSource="{Binding transactions}">
                                <BindableLayout.ItemTemplate>
                                    <DataTemplate x:DataType="local:TransactionResponseDto">
                                        <Label Text="{Binding Quantity, StringFormat='üì∞ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ {0}'}"/>
                                    </DataTemplate>
                                </BindableLayout.ItemTemplate>
                            </VerticalStackLayout>
                            <BoxView HeightRequest="3" Color="#233554" Margin="0, 5"/>
                        </StackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </ScrollView>
       
        <VerticalStackLayout Grid.Column="2" Grid.Row="0" Spacing="10" Padding="10" BackgroundColor="#1E1E1E">

            <Label Text="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" HorizontalTextAlignment="Center" FontSize="30"/>

            <Label Text="–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞" />
            <Entry Placeholder="–í–≤–µ–¥–∏—Ç–µ –§–ò–û" x:Name="nameWorker" MaxLength="100" BackgroundColor="#CFC9C9" TextColor="#000000"/>
            <Picker Title="–í—ã–±–æ—Ä –¥–æ–ª–∂–Ω–æ—Å—Ç–∏" x:Name="PickerItem">
                <Picker.Items>
                    <x:String>–ü—Ä–æ–¥–∞–≤–µ—Ü</x:String>
                    <x:String>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</x:String>
                    <x:String>–î–∏—Ä–µ–∫—Ç–æ—Ä</x:String>
                </Picker.Items>
            </Picker>
            <Button Text="–î–æ–±–∞–≤–∏—Ç—å" Clicked="AddWorker" BackgroundColor="#BB86FC"/>

            <Label Text="–ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å"/>
            <Entry Placeholder="–í–≤–µ–¥–∏—Ç–µ id" x:Name="id" BackgroundColor="#CFC9C9" TextColor="#000000"/>
            <Entry Placeholder="–í–≤–µ–¥–∏—Ç–µ –§–ò–û" x:Name="idd" BackgroundColor="#CFC9C9" TextColor="#000000"/>
            <Picker Title="–í—ã–±–æ—Ä –¥–æ–ª–∂–Ω–æ—Å—Ç–∏" x:Name="PickerItemUp">
                <Picker.Items>
                    <x:String>–ü—Ä–æ–¥–∞–≤–µ—Ü</x:String>
                    <x:String>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</x:String>
                    <x:String>–î–∏—Ä–µ–∫—Ç–æ—Ä</x:String>
                </Picker.Items>
            </Picker>
            <Button Text="–ò–∑–º–µ–Ω–∏—Ç—å" Clicked="UptadeWorker" BackgroundColor="#BB86FC"/>

            <Label Text="–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å" HorizontalOptions="Center" FontSize="24"/>
            <Entry Placeholder="–í–≤–µ–¥–∏—Ç–µ id" x:Name="id_delete" BackgroundColor="#CFC9C9" TextColor="#000000"/>
            <Button Text="–£–¥–∞–ª–∏—Ç—å" Clicked="DeleteWorker" BackgroundColor="#BB86FC"/>
        </VerticalStackLayout>
    </Grid>
</ContentPage>