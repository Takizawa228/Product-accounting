<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="InventoryMaui.tra"
             Title="tra"
              xmlns:local="clr-namespace:InventoryMaui.Models">

    <CollectionView x:Name="TransactionView" ItemsSource="{Binding TransactionList}">
        <CollectionView.ItemTemplate>
            <DataTemplate x:DataType="local:TransactionResponseDto">
                <VerticalStackLayout Spacing="10" Padding="5" Margin="10, 5" BackgroundColor="#1E1E1E">
                    <Label Text="{Binding Id, StringFormat='ID: {0}'}" FontAttributes="Bold"/>
                    <Label Text="{Binding Quantity, StringFormat='ðŸ“° ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾: {0}'}" FontAttributes="Bold"/>
                    <Label Text="{Binding Sum, StringFormat='ðŸ’µ Ð¡ÑƒÐ¼Ð¼Ð°: {0}Ñ€'}" FontAttributes="Bold"/>
                    <Label Text="{Binding Date, StringFormat='ðŸ“… Ð”Ð°Ñ‚Ð° ÑÐ´ÐµÐ»ÐºÐ¸: {0}'}" FontAttributes="Bold"/>
                    <Label Text="{Binding ClientName, StringFormat='ðŸ‘©ðŸ¿â€ðŸ’¼ ÐŸÐ¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»ÑŒ: {0}'}" FontAttributes="Bold"/>
                    <Label Text="{Binding WorkerName, StringFormat='ðŸ‘©ðŸ¿â€ðŸ’¼ Ð Ð°Ð±Ð¾Ñ‚Ð½Ð¸Ðº: {0}'}" FontAttributes="Bold"/>
                    <VerticalStackLayout BindableLayout.ItemsSource="{Binding Products}">
                        <BindableLayout.ItemTemplate>
                            <DataTemplate x:DataType="local:ProductResponseDto">
                                <Grid ColumnDefinitions="*, Auto" Margin="0,2">
                                    <HorizontalStackLayout>
                                        <Label Text="{Binding Name, StringFormat='ðŸ¥” ÐŸÑ€Ð¾Ð´ÑƒÐºÑ†Ð¸Ñ: {0}'}" FontAttributes="Bold" TextColor="White"/>
                                        <Label Text="{Binding Price, StringFormat=' ({0:N2} Ñ€ÑƒÐ±.)'}" TextColor="LightGreen"/>
                                        <Label Text="{Binding Category, StringFormat='ðŸ“‹ ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ: {0}'}" TextColor="Gray" FontSize="Micro"/>
                                        <Label Text="{Binding Supplier, StringFormat='ðŸ‘¨ðŸ¿â€ðŸŒ¾ ÐŸÐ¾ÑÑ‚Ð°Ð²Ñ‰Ð¸Ðº: {0}'}" TextColor="Gray" FontSize="Micro"/>
                                    </HorizontalStackLayout>
                                </Grid>
                            </DataTemplate>
                        </BindableLayout.ItemTemplate>
                    </VerticalStackLayout>
                    <BoxView HeightRequest="3" Color="#233554" Margin="0, 5"/>
                </VerticalStackLayout>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>